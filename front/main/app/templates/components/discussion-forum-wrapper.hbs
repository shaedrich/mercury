{{#if responsive.isDesktop}}
	{{discussion-inline-post-editor
		categories=categories
		categoryPickerButtonId='categoryPickerButtonDesktop'
		create=(action this.attrs.createPost)
		errorMessage=editorState.errorMessage
		stickToGlobalNav=stickEditorToGlobalNav
		generateOpenGraph=(action this.attrs.generateOpenGraph)
		gotoGuidelines=(action this.attrs.gotoGuidelines)
		isActive=editorState.isOpen
		isLoading=editorState.isLoading
		setEditorActive=(action this.attrs.setEditorActive)
	}}
{{/if}}
{{discussion-welcome
	gotoGuidelines=(action this.attrs.gotoGuidelines)
}}
{{#if smokeAndMirrorEnabled}}
	{{#if smokeAndMirrorSinglePost}}
		{{#vertical-collection
				content=posts
				defaultHeight=50
				alwaysRemeasure=true
				bufferSize=3
				containerSelector="body"
		as |entity index|
		}}
			{{discussion-post-card-detail
					approve=(action this.attrs.approve)
					author=entity.createdBy
					categories=categories
					delete=(action this.attrs.deletePost)
					lock=(action this.attrs.lockPost)
					openEditEditor=(action this.attrs.openEditEditor)
					post=entity
					replyCount=entity.repliesCount
					report=(action this.attrs.report)
					setEditorActive=(action this.attrs.setEditorActive)
					undelete=(action this.attrs.undeletePost)
					unlock=(action this.attrs.unlockPost)
					upvote=(action this.attrs.upvote)
			}}

		{{/vertical-collection}}
	{{else}}
		{{#vertical-collection
				content=pages
				defaultHeight=50
				alwaysRemeasure=true
				bufferSize=3
				containerSelector="body"
		as |page index|
		}}
			{{#discussion-post-page
					page=page as |data|
			}}
				{{discussion-post-card-detail
						approve=(action this.attrs.approve)
						author=entity.createdBy
						categories=categories
						delete=(action this.attrs.deletePost)
						lock=(action this.attrs.lockPost)
						openEditEditor=(action this.attrs.openEditEditor)
						post=data.entity
						replyCount=entity.repliesCount
						report=(action this.attrs.report)
						setEditorActive=(action this.attrs.setEditorActive)
						undelete=(action this.attrs.undeletePost)
						unlock=(action this.attrs.unlockPost)
						upvote=(action this.attrs.upvote)
				}}

			{{/discussion-post-page}}
		{{/vertical-collection}}
	{{/if}}
{{else}}
	{{#each posts as |entity|}}
		{{discussion-post-card-detail
				approve=(action this.attrs.approve)
				author=entity.createdBy
				categories=categories
				delete=(action this.attrs.deletePost)
				lock=(action this.attrs.lockPost)
				openEditEditor=(action this.attrs.openEditEditor)
				post=entity
				replyCount=entity.repliesCount
				report=(action this.attrs.report)
				setEditorActive=(action this.attrs.setEditorActive)
				undelete=(action this.attrs.undeletePost)
				unlock=(action this.attrs.unlockPost)
				upvote=(action this.attrs.upvote)
		}}
	{{else}}
		{{discussion-empty-forum-message
				setEditorActive=(action this.attrs.setEditorActive)
		}}
	{{/each}}
{{/if}}


{{discussion-wrapper-load-more
	hasMore=hasMore
	isLoading=isLoading
	loadNextPage=(action 'loadNextPage')
	showLoadMoreButton=true
}}

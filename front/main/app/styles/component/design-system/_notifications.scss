// on-site-notifications to be moved to Design System - IRIS-4081

$notifications-dropdown-content-color: $wds-color-light-c7;
$wds-icon-color: $wds-color-light-c5;

$content-padding: 18px;

.wds-notifications {

	&__unread-mark {
		align-items: center;
		background-color: $wds-color-link;
		border-radius: 50%;
		border: 1px solid $wds-color-white;
		color: $wds-color-white;
		display: flex;
		font-size: $wds-typescale-size-minus-3;
		height: 18px;
		justify-content: center;
		left: -2px;
		position: absolute;
		top: 7px;
		width: 18px;
	}

	&__mark-all-as-read-button {
		box-shadow: 0 -1px 10px 0 rgba(0, 0, 0, 0.1);
		display: flex;
		justify-content: flex-start;
		min-height: 44px;
		padding: 0;
		width: 100%;
	}

	&__mark-all-as-read {
		color: $wds-color-link;
		cursor: pointer;
		font-size: $wds-typescale-size-minus-2;
		font-weight: bold;
		padding: 18px;
		text-transform: uppercase;
	}

	&__dropdown-content {
		align-items: center;
		color: $notifications-dropdown-content-color;
		flex-direction: column;
		font-size: $wds-typescale-size-minus-1;
		justify-content: center;
		max-width: $padding * 2 + 320px;
		min-height: 80px;
		min-width: $padding * 2 + 320px;
		white-space: normal;
		width: 100%;
	}

	&__notification-list {
		box-sizing: border-box;
		max-height: 420px;
		overflow-y: auto;
		width: 100%;
	}

	&__zero-state {
		display: block;
		padding: 18px 18px 4px;
	}
}

$notification-card-text-color: $wds-color-dark-blue-gray;
$notification-card-anchor-color: $notifications-dropdown-content-color;

.wds-notification-card {
	padding: 12px 0 8px;
	text-align: left;

	&__outer-body {
		cursor: pointer;
		display: flex;
	}

	&__icon-wrapper {
		cursor: pointer;
		display: flex;
		height: 18px;
		margin-left: 12px;
		min-width: 18px;
		width: 18px;

		.wds-icon {
			fill: $wds-icon-color;
			height: 18px;
			min-width: inherit;
			width: 18px;

			.wds-is-unread & {
				fill: $wds-color-link;
			}
		}
	}

	&__body {
		display: flex;
		flex-direction: column;
		flex-grow: 1;
		justify-content: flex-start;
		overflow-wrap: break-word;
		padding-left: 12px;
		padding-right: 12px;
		//word-break: break-word is not supported on Firefox, therefore word-wrap and overflow-wrap are used too
		word-break: break-word;
		word-wrap: break-word;
	}

	&__text {
		color: $notification-card-text-color;
		font-size: $wds-typescale-size-minus-1;
		line-height: 18px;
		margin: 0;
		b {
			font-weight: bold;
		}
	}

	&__snippet {
		color: $wds-color-blue-gray;
		font-size: $wds-typescale-size-minus-1;
		font-style: italic;
		line-height: 18px;
		margin: 8px 0 0;
	}

	&__context-list {
		display: flex;
		color: $wds-color-blue-gray;
		font-size: $wds-typescale-size-minus-2;
		font-weight: bold;
		list-style-type: none;
		margin: 0;
		padding: 8px 0 0;
	}

	&__community {
		max-width: 150px;
		text-overflow: ellipsis;
	}

	&__context-item {
		white-space: nowrap;
		overflow: hidden;
	}

	&__context-separator {
		margin: 0 8px;
	}

}

.wds-avatar-stack {
	align-items: center;
	display: flex;
	margin: 8px 18px 6px 40px;

	&__avatar {
		color: $wds-color-light-c4;
	}

	@for $i from 1 to 6 {
		.wds-avatar-stack__avatar:nth-child(#{$i}) {
			position: relative;
			transform: translate(($i - 1) * - 15px);
			z-index: 5 - $i;
		}
	}

	&__overflow {
		background-color: $wds-color-white;
		border: 0;
		color: $wds-color-light-c6;
		font-size: $wds-typescale-size-minus-2;
		padding-left: 6px;
		transform: translate(-60px);
		width: auto;
	}
}

.wds-menu-chevron {
	float: right;
	margin-top: 5px;
	transform: rotate(-90deg);
	fill: $wds-color-blue-gray;
}

// TODO move those to wikia-nav
.wikia-nav {
	.user-profile-avatar {
		position: relative;
	}

	.wds-notifications__unread-mark {
		left: initial;
		right: -9px;
		top: -3px;
	}
}

.wds-is-hidden {
	display: none;
}

/// Override for discussion-contributors

.wds-notification-card {
	.discussion-contributors {
		align-items: center;
		display: flex;
		margin: 8px 18px 6px 40px;

		.user-avatar {
			background: $wds-color-white;
			border-radius: 50%;
			margin: 0;

			&__image {
				border-color: $wds-color-light-c4;
			}
		}

		@for $i from 1 to 6 {
			//TODO avatars shouldn't stack based on track-view
			// you have to wrap it in discussion-contributors with a new class
			// and modify styles which rely on current structure
			.track-click:nth-child(#{$i}) .user-avatar {
				transform: translate(($i - 1) * - 15px);
				z-index: 5 - $i;
				position: relative;
			}
		}

		div.discussion-contributors-more {
			background-color: $wds-color-white;
			border: 0;
			color: $wds-color-light-c6;
			font-size: 12px;
			transform: translate(-60px);
		}
	}
}
